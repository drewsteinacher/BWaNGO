@namespace BWaNGO.Components

@using BWaNGO.Models

<MudGrid Justify="Justify.SpaceBetween" Spacing="3">
    @foreach()
    {
        // This has to be here to ensure the paper matches the item width
        // This only seems to affect "normal" items, since presumably the filled ones cover the paper
        const string minWidth = "min-width: 15vw;";

        var localIndex = i + 1;
        <MudItem xs="2">
            <MudPaper Style="@minWidth">
                @{
                    var style = "height: 13vh; text-transform: none;";

                    // Test Pattern Styling with a border
                    if (localIndex >= 20)
                    {
                        style += "border: white 1px solid;";
                    }

                    style += minWidth;

                    // TODO: Could be determined via string length and/or screen size detection, the latter is harder
                    style += "font-size: 0.75rem;";
                }

                @if (localIndex % 5 == 0)
                {
                    <MudButton Variant="Variant.Filled"
                               Size="Size.Large"
                               FullWidth="true"
                               Style="@style"
                               Color="Color.Success">
                        <MudText Typo="Typo.caption">
                            @($"WINNING item {localIndex} is here and is very very long!")
                        </MudText>
                    </MudButton>
                }
                else if (localIndex % 2 == 0)
                {
                    <MudButton Variant="Variant.Filled"
                               Size="Size.Large"
                               FullWidth="true"
                               Style="@style"
                               Color="Color.Primary">
                        <MudText Typo="Typo.caption">
                            @($"SELECTED item {localIndex} is here and is very very long!")
                        </MudText>
                    </MudButton>
                }
                else
                {
                    <MudButton Variant="Variant.Text"
                               Size="Size.Large"
                               FullWidth="true"
                               Style="@style"
                               Color="Color.Surface">
                        <MudText Typo="Typo.caption">
                            @($"Normal item {localIndex} is here and is long, very very long!")
                        </MudText>
                    </MudButton>
                }
            </MudPaper>
        </MudItem>

        @if(localIndex % 5 == 0)
        {
            <MudFlexBreak/>
        }
    }
</MudGrid>

<br/>

<MudGrid Justify="Justify.SpaceBetween" Spacing="3">
    @for (var i = 0; i < 25; i++)
    {
        // This has to be here to ensure the paper matches the item width
        // This only seems to affect "normal" items, since presumably the filled ones cover the paper
        const string minWidth = "min-width: 15vw;";

        var localIndex = i + 1;
        <MudItem xs="2">
            <MudPaper Style="@minWidth">
                @{
                    var style = "height: 13vh; text-transform: none;";

                    // Test Pattern Styling with a border
                    if (localIndex >= 20)
                    {
                        style += "border: white 1px solid;";
                    }

                    style += minWidth;

                    // TODO: Could be determined via string length and/or screen size detection, the latter is harder
                    style += "font-size: 0.75rem;";
                }

                @if (localIndex % 5 == 0)
                {
                    <MudButton Variant="Variant.Filled"
                               Size="Size.Large"
                               FullWidth="true"
                               Style="@style"
                               Color="Color.Success">
                        <MudText Typo="Typo.caption">
                            @($"WINNING item {localIndex} is here and is very very long!")
                        </MudText>
                    </MudButton>
                }
                else if (localIndex % 2 == 0)
                {
                    <MudButton Variant="Variant.Filled"
                               Size="Size.Large"
                               FullWidth="true"
                               Style="@style"
                               Color="Color.Primary">
                        <MudText Typo="Typo.caption">
                            @($"SELECTED item {localIndex} is here and is very very long!")
                        </MudText>
                    </MudButton>
                }
                else
                {
                    <MudButton Variant="Variant.Text"
                               Size="Size.Large"
                               FullWidth="true"
                               Style="@style"
                               Color="Color.Surface">
                        <MudText Typo="Typo.caption">
                            @($"Normal item {localIndex} is here and is long, very very long!")
                        </MudText>
                    </MudButton>
                }
            </MudPaper>
        </MudItem>

        @if(localIndex % 5 == 0)
        {
            <MudFlexBreak/>
        }
    }
</MudGrid>

@code {
    [Parameter]
    public BingoBoard? Board { get; set; }

    [Parameter]
    public bool IsEditMode { get; set; }

    [Parameter]
    public Action<BingoBoard>? OnBoardChanged { get; set; }
}